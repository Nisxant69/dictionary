<!DOCTYPE html>

<html lang="en">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Page title</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">

<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

<link href="https://fonts.googleapis.com/css2?family=Archivo:wght@100&family=Playfair+Display:ital@1&display=swap" rel="stylesheet">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

     <style>

      #fa{

       position: relative;

      }

      

      #search{

       position: absolute;

       top: 4px;

       left: 4px;

       font-size: 1.2em

      }

      

      #search-input{

      /* padding-left:30px;*/

      }

      

      #send{

       position: absolute;

       right: 5px;

       bottom: 10px;

       font-size: 1.2em;

      }

      

      warning{

       color: red;

      }

      

      .transcription{

       font-style: italic;

       color: #555;

       font-family: 'Playfair Display', serif;

      }

      

      .part-of-speech{

       text-transform: capitalize;

       font-weight: bold;

      }

      

      .synonym,.pos-synonym{

       color: #0136ff;

      }

      

      .antonym,.pos-antonym{

       color: #fa9317

      }

      

      .example{

       font-style: italic;

       color: darkgreen;

       font-size:1.2em;

      }

      

      .yellow{

       color: goldenrod !important;

      }

      

      *{

       font-family: 'Archivo', sans-serif;

      }

      

      h3{

       font-weight: bold;

       font-size: 1.2em;

      }

     </style>

</head>

<body>

    <div class="container">

     <h1>Simple English Dictionary</h1>

     <div id="fa">

      <!--<span id="search"><i class="fa fa-search"></i></span>-->

     <input onchange="" class="form-control" id="search-input"/>

     <span class="fa fa-search" id="send" onclick="search(event)"></span>

     </div>

     <p>Search Any <strong>English</strong> word above! <warning class="yellow">No nationalities or languages allowed, just english words!</warning></p>

     <div id="result"></div>

    </div>

    <script src="https://kit.fontawesome.com/815384b62e.js" crossorigin="anonymous"></script>

    <script>

    

let input = document.getElementById("search-input");

let result = document.getElementById("result");

function search(e){

 let value= input.value;

 

 fetch("https://api.dictionaryapi.dev/api/v2/entries/en/"+value).then(stream=>stream.json()).then(display);

}

function display(array){

 if(array instanceof Array){

  let [word]=array;

  let output=`<h3>${word.word}</h3>

  <h5>Transcription and Sound</h5>

  `

  

  for(let phone of word.phonetics){

   if(phone.text)

   output+=`<p class="transcription">${phone.text}</p>`;

   if(phone.audio){

    output+=`<audio controls>

    <source src=${phone.audio} type="audio/mpeg"/>

    </audio>`;

   }

  }

  

  for(let meaning of word.meanings){

   if(meaning.partOfSpeech){

    output+=`<h4 class="part-of-speech">${meaning.partOfSpeech}</h4><ol>`;

    for(let def of meaning.definitions){

     output+=`<li class="definition">${def.definition}</li>`;

     if(def.synonyms.length){

      output+=`<li><h5>Synonyms</h5><ul>`;

      for(let synonym of def.synonyms){

       output+=`<li class="synonym">${synonym}</li>`;

      }

      output+=`</ul></li>`;

     }

     if(def.antonyms.length){

      output+=`<li><h5>antonyms</h5 ><ul>`;

      for(let antonym of def.antonyms){

       output+=`<li class="antonym">${antonym}</li>`;

      }

      output+=`</ul></li>`;

     }

     output+="</ol>";

      if(def.example){

       output+="<h6>Example</h6>";

       output+=`<div class="example">\${def.example}\</div>`;

      }

    }

    if(meaning.synonyms.length){

     output+=`<h4>synonyms</h4><ul>`;

      for(let synonym of meaning.synonyms){

       output+=`<li class="pos-synonym">${synonym}</li>`;

      }

      output+=`</ul>`;

    }

    if(meaning.antonyms.length){

     output+=`<h4>antonyms</h4><ul>`;

      for(let antonym of meaning.antonyms){

       output+=`<li class="pos-antonym">${antonym}</li>`;

      }

      output+=`</ul>`;

      output+="</ol>"

    }

   }

  }

  

  

  result.innerHTML=output;

 }else{

  result.innerHTML=`<warning>

 Such word doesn't exist, or it is a country or language. No country definitions in this app, sorry :(<br/> Even names of languages don't qualify, except "English" </warning>`

 }

}

</script>

</body>

</html>
